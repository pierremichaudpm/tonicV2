# ðŸŽ¯ **REPLIT AGENT PLAN: Complete HTML Files Cleanup**

## **OBJECTIVE**
Clean up conflicts between ALL HTML files and shared.css/shared.js. Apply consistent fixes to eliminate confusion and ensure clean build.

## **SCOPE** 
Apply fixes to ALL HTML files EXCEPT `cms.html`:
- `a-propos.html`, `about.html`
- `communiques.html`, `communiques-en.html` 
- `emplois.html`, `emplois-en.html`
- `index.html`, `index-en.html`
- `nous-joindre.html`, `nous-joindre-en.html`
- `conditions-utilisation.html`
- `politique-de-confidentialite.html` 
- `privacy-policy.html`
- `terms-of-use.html`

---

## **PHASE 1: Z-INDEX STANDARDIZATION**

**Add this CSS block to the `<style>` section of EVERY HTML file listed above:**

```css
/* === Z-INDEX MASTER OVERRIDE === */
:root {
    --z-header: 50;
    --z-mobile-menu: 999999; 
    --z-modal: 2147483647;
}

header { z-index: var(--z-header) !important; }
#mobileMenu, .mobile-menu { z-index: var(--z-mobile-menu) !important; }
#newsModal, #jobModal, .modal-backdrop { z-index: var(--z-modal) !important; }
.modal-content { z-index: var(--z-modal) !important; }

/* Force page content below modals */
main, section, .hero-title, h1, h2, h3 { z-index: 1 !important; }
```

---

## **PHASE 2: MOBILE MENU FUNCTION STANDARDIZATION**

**Replace ANY existing `toggleMobileMenu` function in EVERY HTML file with this standardized version:**

```javascript
function toggleMobileMenu() {
    console.log('toggleMobileMenu called - timestamp:', Date.now());
    
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    const mobileMenu = document.getElementById('mobileMenu');
    if (!mobileMenu) {
        console.log('Mobile menu element not found');
        return;
    }

    const isCurrentlyOpen = mobileMenu.classList.contains('active') || 
                           mobileMenu.style.display === 'flex' ||
                           window.getComputedStyle(mobileMenu).display === 'flex';
    
    console.log('Menu currently open:', isCurrentlyOpen);

    if (isCurrentlyOpen) {
        mobileMenu.classList.remove('active');
        mobileMenu.style.display = 'none';
        mobileMenu.style.visibility = 'hidden';
        mobileMenu.style.opacity = '0';
        document.body.style.overflow = '';
        document.body.style.touchAction = '';
        console.log('Menu closed');
    } else {
        mobileMenu.classList.add('active');
        mobileMenu.style.display = 'flex';
        mobileMenu.style.visibility = 'visible';
        mobileMenu.style.opacity = '1';
        document.body.style.overflow = 'hidden';
        document.body.style.touchAction = 'none';
        console.log('Menu opened');
    }
}
```

---

## **PHASE 3: NAVIGATION CSS STANDARDIZATION**

**Add this CSS block to the `<style>` section of EVERY HTML file:**

```css
/* === NAVIGATION MASTER OVERRIDE === */
.nav-container {
    background: rgba(0,0,0,0.2) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    padding: 0.125rem 0.5rem !important;
    border-radius: 9999px !important;
    gap: 0.125rem !important;
}

.nav-item {
    display: flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 0.5rem !important;
    color: white !important;
    text-decoration: none !important;
    transition: all 0.2s ease !important;
    cursor: pointer !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
}

.nav-item:hover {
    background: rgba(255,255,255,0.1) !important;
    color: white !important;
}

.nav-item svg {
    width: 1rem !important;
    height: 1rem !important;
    flex-shrink: 0 !important;
}

.nav-item span {
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    color: white !important;
}

.lang-switcher {
    display: flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    padding: 0.25rem 0.5rem !important;
    border-radius: 0.5rem !important;
    color: rgba(255,255,255,.9) !important;
    transition: all 0.2s ease !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    cursor: pointer !important;
}

.lang-switcher:hover {
    background: rgba(255,255,255,.1) !important;
    color: #fff !important;
}

.lang-divider {
    width: 1px !important;
    height: 16px !important;
    background: rgba(255,255,255,.2) !important;
    margin: 0 0.5rem !important;
}
```

---

## **PHASE 4: MOBILE MENU CONTAINER STANDARDIZATION**

**Add this CSS block to EVERY HTML file:**

```css
/* === MOBILE MENU MASTER OVERRIDE === */
.mobile-menu, #mobileMenu {
    display: none !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(0,0,0,0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    z-index: var(--z-mobile-menu) !important;
    flex-direction: column !important;
    overflow-y: auto !important;
    touch-action: none !important;
    -webkit-overflow-scrolling: touch !important;
}

.mobile-menu.active, #mobileMenu.active {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

.mobile-menu .nav-item {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    padding: 0.75rem 1rem !important;
    width: 100% !important;
    color: white !important;
    text-decoration: none !important;
    border-radius: 0.5rem !important;
    transition: background 0.2s ease !important;
    min-height: 44px !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
}

.mobile-menu .nav-item:hover {
    background: rgba(255, 255, 255, 0.1) !important;
}

.mobile-menu .nav-item.active {
    background: rgba(249, 115, 22, 0.2) !important;
    color: white !important;
}
```

---

## **PHASE 5: TESTING**

**Add this temporary test function to EVERY HTML file (remove after validation):**

```javascript
// === TEMPORARY TEST FUNCTION === 
function validateCleanBuild() {
    console.log('ðŸ§ª TESTING CLEAN BUILD - Page:', document.title);
    
    const results = {
        page: document.title,
        mobileMenuExists: !!document.getElementById('mobileMenu'),
        toggleFunctionWorks: typeof toggleMobileMenu === 'function',
        modalExists: !!(document.getElementById('newsModal') || document.getElementById('jobModal')),
        navItemsCount: document.querySelectorAll('.nav-item').length,
        zIndexCorrect: false
    };
    
    // Test z-index hierarchy
    const modal = document.getElementById('newsModal') || document.getElementById('jobModal');
    if (modal) {
        const modalZ = parseInt(window.getComputedStyle(modal).zIndex);
        results.zIndexCorrect = modalZ > 1000000;
        results.modalZIndex = modalZ;
    }
    
    console.table(results);
    return results;
}

// Auto-run test
setTimeout(validateCleanBuild, 2000);
```

---

## **EXECUTION ORDER**

1. âœ… **Phase 1:** Add Z-index CSS to all HTML files
2. âœ… **Phase 2:** Replace toggleMobileMenu function in all HTML files  
3. âœ… **Phase 3:** Add Navigation CSS to all HTML files
4. âœ… **Phase 4:** Add Mobile Menu CSS to all HTML files
5. âœ… **Phase 5:** Add test function to all HTML files
6. âœ… **Test:** Run site and check console for validation results
7. âœ… **Cleanup:** Remove test functions after validation

**RESULT:** Clean, consistent behavior across ALL HTML files with no conflicts between individual files and shared.css/shared.js.