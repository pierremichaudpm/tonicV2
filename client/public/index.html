<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Groupe Tonic | Créateur d'expériences mémorables - Événements sportifs Québec</title>
    <meta name="description" content="Groupe Tonic organise les plus grands événements sportifs au Québec : Beach Pro Tour, Marathon Beneva, Grands Prix Cyclistes. Plus de 40 ans d'expérience.">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://website-migrator-pmicho.replit.app/">

    <!-- Hreflang tags -->
    <link rel="alternate" hreflang="fr" href="https://website-migrator-pmicho.replit.app/">
    <link rel="alternate" hreflang="en" href="https://website-migrator-pmicho.replit.app/index-en.html">
    <link rel="alternate" hreflang="x-default" href="https://website-migrator-pmicho.replit.app/">

    <!-- Open Graph tags -->
    <meta property="og:site_name" content="Groupe Tonic">
    <meta property="og:title" content="Groupe Tonic | Créateur d'expériences mémorables">
    <meta property="og:description" content="Groupe Tonic organise les plus grands événements sportifs au Québec : Beach Pro Tour, Marathon Beneva, Grands Prix Cyclistes. Plus de 40 ans d'expérience.">
    <meta property="og:image" content="https://website-migrator-pmicho.replit.app/images/groupe-tonic-og.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://website-migrator-pmicho.replit.app/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_CA">

    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Groupe Tonic | Créateur d'expériences mémorables">
    <meta name="twitter:description" content="Groupe Tonic organise les plus grands événements sportifs au Québec : Beach Pro Tour, Marathon Beneva, Grands Prix Cyclistes.">
    <meta name="twitter:image" content="https://website-migrator-pmicho.replit.app/images/groupe-tonic-og.jpg">

    <!-- Additional SEO tags -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="Groupe Tonic">
    <meta name="keywords" content="événements sportifs Québec, Beach Pro Tour, Marathon Beneva, Grands Prix Cyclistes, UCI, Montréal, organisation événementielle">

    <!-- Preload critical resources -->
    <link rel="preload" href="css/shared.css" as="style">
    <link rel="preload" href="css/4k-presentation.css" as="style">
    <link rel="preload" href="css/tailwind-production.css" as="style">
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/4k-presentation.css">
    <link rel="stylesheet" href="css/tailwind-production.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Groupe Tonic",
        "alternateName": "Tonic",
        "description": "Créateur d'expériences mémorables depuis plus de 40 ans. Organisation d'événements sportifs majeurs au Québec.",
        "url": "https://website-migrator-pmicho.replit.app/",
        "logo": "https://website-migrator-pmicho.replit.app/images/tonic-logo.png",
        "image": "https://website-migrator-pmicho.replit.app/images/groupe-tonic-og.jpg",
        "sameAs": [
            "https://www.instagram.com/groupetonic/",
            "https://www.linkedin.com/company/groupe-tonic/"
        ],
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Longueuil",
            "addressRegion": "QC",
            "addressCountry": "CA"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "info@groupetonic.ca",
            "contactType": "customer service"
        },
        "foundingDate": "1983",
        "keywords": "événements sportifs, Beach Pro Tour, Marathon Beneva, Grands Prix Cyclistes, UCI, organisation événementielle",
        "knowsAbout": [
            "Organisation d'événements sportifs",
            "Beach Pro Tour",
            "Marathon Beneva de Montréal",
            "Grands Prix Cyclistes",
            "Championnats du Monde Route UCI",
            "Production vidéo",
            "Espaces événementiels"
        ]
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Groupe Tonic",
        "description": "Organisation d'événements sportifs majeurs au Québec depuis plus de 40 ans",
        "url": "https://website-migrator-pmicho.replit.app/",
        "telephone": "+1-514-XXX-XXXX",
        "email": "info@groupetonic.ca",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Longueuil",
            "addressRegion": "Quebec",
            "addressCountry": "Canada"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "45.5301",
            "longitude": "-73.4684"
        },
        "openingHours": "Mo-Fr 09:00-17:00",
        "paymentAccepted": "Credit Card, Cash",
        "priceRange": "$$"
    }
    </script>

    <style>
        /* === Z-INDEX MASTER OVERRIDE === */
        :root {
            --z-header: 50;
            --z-mobile-menu: 999999; 
            --z-modal: 2147483647;
        }

        header { z-index: var(--z-header) !important; }
        #mobileMenu, .mobile-menu { z-index: var(--z-mobile-menu) !important; }
        #newsModal, #jobModal, .modal-backdrop { z-index: var(--z-modal) !important; }
        .modal-content { z-index: var(--z-modal) !important; }

        /* Force page content below modals */
        main, section, .hero-title, h1, h2, h3 { z-index: 1 !important; }

        /* === NAVIGATION MASTER OVERRIDE === */
        .nav-container {
            background: rgba(0,0,0,0.2) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px) !important;
            padding: 0.125rem 0.5rem !important;
            border-radius: 9999px !important;
            gap: 0.125rem !important;
        }

        .nav-item {
            display: flex !important;
            align-items: center !important;
            gap: 0.25rem !important;
            padding: 0.25rem 0.5rem !important;
            border-radius: 0.5rem !important;
            color: white !important;
            text-decoration: none !important;
            transition: all 0.2s ease !important;
            cursor: pointer !important;
            font-size: 0.75rem !important;
            font-weight: 500 !important;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1) !important;
            color: white !important;
        }

        .nav-item svg {
            width: 1rem !important;
            height: 1rem !important;
            flex-shrink: 0 !important;
        }

        .nav-item span {
            font-size: 0.75rem !important;
            font-weight: 500 !important;
            color: white !important;
        }

        .lang-switcher {
            display: flex !important;
            align-items: center !important;
            gap: 0.25rem !important;
            padding: 0.25rem 0.5rem !important;
            border-radius: 0.5rem !important;
            color: rgba(255,255,255,.9) !important;
            transition: all 0.2s ease !important;
            font-size: 0.75rem !important;
            font-weight: 500 !important;
            text-decoration: none !important;
            cursor: pointer !important;
        }

        .lang-switcher:hover {
            background: rgba(255,255,255,.1) !important;
            color: #fff !important;
        }

        .lang-divider {
            width: 1px !important;
            height: 16px !important;
            background: rgba(255,255,255,.2) !important;
            margin: 0 0.5rem !important;
        }

        /* === MOBILE MENU MASTER OVERRIDE === */
        .mobile-menu, #mobileMenu {
            display: none !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            background: rgba(0,0,0,0.95) !important;
            backdrop-filter: blur(20px) !important;
            -webkit-backdrop-filter: blur(20px) !important;
            z-index: var(--z-mobile-menu) !important;
            flex-direction: column !important;
            overflow-y: auto !important;
            touch-action: none !important;
            -webkit-overflow-scrolling: touch !important;
        }

        .mobile-menu.active, #mobileMenu.active {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        .mobile-menu .nav-item {
            display: flex !important;
            align-items: center !important;
            gap: 0.75rem !important;
            padding: 0.75rem 1rem !important;
            width: 100% !important;
            color: white !important;
            text-decoration: none !important;
            border-radius: 0.5rem !important;
            transition: background 0.2s ease !important;
            min-height: 44px !important;
            touch-action: manipulation !important;
            -webkit-tap-highlight-color: transparent !important;
        }

        .mobile-menu .nav-item:hover {
            background: rgba(255, 255, 255, 0.1) !important;
        }

        .mobile-menu .nav-item.active {
            background: rgba(249, 115, 22, 0.2) !important;
            color: white !important;
        }

        *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
        body{margin:0;background:#000;overflow-x:hidden;min-height:100vh;min-height:100dvh;overscroll-behavior:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

        /* Core animations - Optimized for mobile performance */
        @keyframes fadeInSoft{from{opacity:0;transform:translate3d(0,20px,0)}to{opacity:1;transform:translate3d(0,0,0)}}
        @keyframes fadeOutSoft{to{opacity:0;transform:translate3d(0,0,0)}}
        @keyframes fadeIn{from{opacity:0;transform:translate3d(0,15px,0)}to{opacity:1;transform:translate3d(0,0,0)}}
        @keyframes scaleIn{from{opacity:0;transform:translate3d(0,0,0) scale(.98)}to{opacity:1;transform:translate3d(0,0,0) scale(1)}}
        @keyframes slideIn{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}
        @keyframes subtleZoom{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}
        @keyframes float{0%,100%{transform:translateY(0) translateX(0);opacity:.3}50%{transform:translateY(-30px) translateX(10px);opacity:.8}}
        @keyframes pulse{0%,100%{opacity:.7}50%{opacity:1}}
        @keyframes progress{from{transform:scaleX(0)}to{transform:scaleX(1)}}
        @keyframes progressLine{from{width:0}to{width:100%}}
        @keyframes gridProgress{from{width:0}to{width:100%}}
        @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        @keyframes fadeInOut{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}20%{opacity:1;transform:translate(-50%,-50%) scale(1)}80%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(.95)}}



        /* Base components - Optimized for mobile */
        .view-container{position:fixed;inset:0;opacity:0;pointer-events:none;transition:opacity 0.8s ease-out;will-change:opacity;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .view-container.active{opacity:1;pointer-events:auto}
        .splash-container{transition:opacity 0.8s ease-out;will-change:opacity;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .splash-container{position:fixed;inset:0;z-index:100;background:#000;display:flex;align-items:center;justify-content:center;padding:2rem;flex-direction:column;overflow:hidden}

        .splash-container::before{
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse 130% 90% at 20% 30%, rgba(220, 38, 38, 0.45) 0%, transparent 60%),
                radial-gradient(ellipse 110% 80% at 80% 70%, rgba(255, 87, 51, 0.4) 0%, transparent 55%),
                radial-gradient(ellipse 120% 100% at 30% 85%, rgba(255, 127, 80, 0.35) 0%, transparent 50%),
                radial-gradient(ellipse 100% 70% at 70% 20%, rgba(255, 160, 122, 0.3) 0%, transparent 45%),
                radial-gradient(ellipse 90% 60% at 15% 70%, rgba(240, 128, 128, 0.25) 0%, transparent 40%),
                radial-gradient(ellipse 85% 75% at 85% 40%, rgba(255, 218, 185, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse 95% 65% at 45% 15%, rgba(255, 69, 0, 0.35) 0%, transparent 45%),
                radial-gradient(ellipse 80% 55% at 60% 80%, rgba(255, 99, 71, 0.3) 0%, transparent 40%),
                linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(255, 87, 51, 0.15), rgba(255, 127, 80, 0.1), rgba(255, 218, 185, 0.08), rgba(255, 255, 255, 0.05));
            pointer-events: none;
            z-index: 1;
            opacity: 0;
            animation: fadeInSoft 1.0s ease-out .3s forwards, fadeOutSoft 0.6s ease-out 2.2s forwards;
        }
        .splash-logo{width:clamp(300px,50vw,600px);height:auto;opacity:0;animation:fadeInSoft 1.0s ease-out forwards, fadeOutSoft 0.6s ease-out 2.2s forwards;filter:drop-shadow(0 4px 20px rgba(0,0,0,.8));position:relative;z-index:2;will-change:opacity;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .splash-tagline{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#fff;text-align:center;text-shadow:0 2px 10px rgba(0,0,0,.8);opacity:0;animation:fadeInSoft 1.0s ease-out .2s forwards, fadeOutSoft 0.6s ease-out 2.2s forwards;margin-top:3rem;position:relative;z-index:2;will-change:opacity;transform:translateZ(0);-webkit-transform:translateZ(0)}

        /* Grid - Updated 2:34 AM for MUCH darker backgrounds - Mobile optimized */
        .grid-selection-container{position:fixed;inset:0;z-index:90;background:#000;display:flex;flex-direction:column;height:100vh;height:100dvh;overflow:hidden;position:relative;will-change:opacity;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .grid-selection-container::before{
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse 200% 150% at 20% 30%, rgba(255, 87, 51, 0.08) 0%, transparent 80%),
                radial-gradient(ellipse 150% 100% at 80% 70%, rgba(249, 115, 22, 0.06) 0%, transparent 75%),
                linear-gradient(135deg, rgba(220, 38, 38, 0.03), transparent 70%);
            pointer-events: none;
            z-index: 1;
        }
        .grid-selection-container header{flex-shrink:0;height:65px}
        .grid-wrapper{flex:1;padding:calc(80px + 0.25rem) max(1.5rem,3vw) 0.25rem;display:flex;align-items:center;justify-content:center;min-height:0;overflow:hidden}
        .selection-grid{display:grid;gap:12px;width:100%;height:100%;max-width:1190px;max-height:85vh;margin:auto}
        /* 4K override - remove width constraint */
        .selection-tile{position:relative;width:100%;height:100%;min-height:0;border-radius:12px;overflow:hidden;cursor:pointer;transition:transform .2s ease, box-shadow .2s ease;animation:scaleIn .4s ease-out forwards;animation-delay:calc(var(--index) * .03s);opacity:0;box-shadow:0 4px 15px rgba(0,0,0,.3);will-change:transform;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .selection-tile:hover{transform:translate3d(0,0,0) scale(1.02);z-index:10;box-shadow:0 10px 30px rgba(0,0,0,.5)}
        .selection-tile-bg{position:absolute;inset:0;background-size:cover;background-position:center;transition:transform .2s ease;will-change:transform;transform:translateZ(0);-webkit-transform:translateZ(0)}
        .selection-tile:hover .selection-tile-bg{transform:translate3d(0,0,0) scale(1.03)}
        .selection-tile-overlay{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;padding:clamp(.75rem,2vw,1.25rem);padding-bottom:clamp(1rem,2.5vw,1.5rem)}

        .selection-tile-content{position:relative;z-index:2}
        .selection-tile-logo{max-height:clamp(30px,5vh,50px);max-width:clamp(80px,15vw,140px);object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.8));opacity:.95}
        .selection-tile-content{display:flex;flex-direction:column;gap:.25rem;min-height:3.5rem;justify-content:flex-end}
        .selection-tile-title{font-size:clamp(.875rem,1.5vw,1.25rem);font-weight:900;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.9);line-height:1.1}
        .selection-tile-date{font-size:clamp(.65rem,1vw,.875rem);color:rgba(255,255,255,.9);font-weight:500}
        .selection-tile-tagline{font-size:clamp(.88rem,1.35vw,1.08rem);color:rgba(255,255,255,.85);font-weight:700;text-transform:uppercase;letter-spacing:.05em;line-height:1.2;text-shadow:0 2px 6px rgba(0,0,0,.8)}

        /* Mobile Chrome optimization */
        @media screen and (max-width: 768px) {
            .view-container {
                transition: opacity 0.6s ease-out;
            }

            .selection-tile {
                animation-duration: 0.3s;
                transition: transform 0.15s ease;
            }

            .selection-tile:hover {
                transform: translate3d(0,0,0) scale(1.01);
            }

            .selection-tile-bg {
                transition: transform 0.15s ease;
            }

            .selection-tile:hover .selection-tile-bg {
                transform: translate3d(0,0,0) scale(1.02);
            }

            /* Reduce motion for smoother performance */
            @media (prefers-reduced-motion: reduce) {
                .view-container,
                .splash-container,
                .selection-tile,
                .selection-tile-bg {
                    transition: none;
                    animation: none;
                }

                .selection-tile {
                    opacity: 1;
                }
            }
        }

        /* Progress indicators */
        .grid-progress-bar{position:fixed;bottom:0;left:0;right:0;height:6px;background:rgba(255,255,255,.1);z-index:95;display:none}
        .grid-progress-fill{height:100%;background:linear-gradient(90deg,color-mix(in srgb,var(--accent-primary) 10%,#000) 0%,color-mix(in srgb,var(--accent-primary) 20%,#000) 15%,color-mix(in srgb,var(--accent-primary) 40%,#000) 30%,color-mix(in srgb,var(--accent-primary) 60%,#000) 45%,var(--accent-primary) 60%,var(--accent-hover) 75%,var(--accent-light) 90%,color-mix(in srgb,var(--accent-light) 60%,#fff) 100%);animation:gridProgress 7s linear forwards;transform-origin:left;box-shadow:0 0 25px var(--accent-shadow),0 0 10px var(--accent-30)}
        .progress-bar{position:absolute;bottom:0;left:0;height:4px;background:var(--accent-color);animation:progress 7s linear forwards;transform-origin:left;transform:scaleX(0);box-shadow:0 0 15px var(--accent-color);border-radius:0 3px 3px 0;z-index:10}
        .progress-bar.paused{animation-play-state:paused}
        .desktop-progress{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);z-index:40;display:none;align-items:center;gap:.75rem}
        .progress-line{width:80px;height:5px;background:rgba(255,255,255,.3);cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;border-radius:3px}
        .progress-line:hover{background:rgba(255,255,255,.4);transform:scaleY(1.3);box-shadow:0 2px 8px rgba(255,255,255,.2)}
        .progress-line.active{background:rgba(255,255,255,.5)}
        .progress-line.active::after{content:'';position:absolute;left:0;top:0;height:100%;background:var(--accent-color);animation:progressLine 7s linear forwards;box-shadow:0 0 10px var(--accent-color),0 0 20px var(--accent-color)}
        .progress-line.active.paused::after{animation-play-state:paused}

        /* Navigation */
        .lang-switcher{display:flex;align-items:center;gap:.25rem;padding:.25rem .5rem;border-radius:.5rem;color:rgba(255,255,255,.9);transition:all .2s ease;font-size:.75rem;font-weight:500;text-decoration:none;cursor:pointer}
        .lang-switcher:hover{background:rgba(255,255,255,.1);color:#fff}
        .lang-divider{width:1px;height:16px;background:rgba(255,255,255,.2);margin:0 .5rem}
        .side-nav-wrapper{position:fixed;right:0;top:50%;transform:translateY(-50%);z-index:40;max-height:70vh;max-width:280px}
        .side-nav-item{position:relative;cursor:pointer;transition:all .3s ease;border-radius:8px;margin-bottom:4px;overflow:hidden}
        .side-nav-item:hover{transform:translateX(-8px);background:rgba(255,255,255,.1)}
        .side-nav-item.active{background:rgba(255,255,255,.15);transform:translateX(-12px)}

        /* Hero */
        .hero-bg{animation:subtleZoom 60s ease-in-out infinite;transition:opacity .6s ease-out,transform .6s ease-out}
        .hero-transition-wrapper{position:absolute;inset:0;opacity:1;transition:opacity .5s ease-in-out}
        .particle{position:absolute;width:2px;height:2px;background:rgba(255,255,255,.6);border-radius:50%;animation:float 12s ease-in-out infinite}
        .hero-main-content{cursor:grab;position:relative;z-index:30}
        .hero-main-content:active{cursor:grabbing}
        .hero-content{animation:fadeIn .8s ease-out;position:relative;z-index:35}
        .hero-content>*{animation:slideIn .6s ease-out forwards;animation-delay:calc(var(--child-index) * .1s);opacity:0;animation-fill-mode:both}
        .hero-content>*:nth-child(5),.hero-content>*:nth-child(6),.hero-content .cta-button-custom{animation-fill-mode:both!important}
        @media(prefers-reduced-motion:no-preference){.hero-content .cta-button-custom{animation:slideIn .6s ease-out .5s both!important}}
        .hero-logo-container{display:block;margin:0;padding:0;text-align:left}
        .hero-logo-container img{display:block;margin:0;padding:0;transform-origin:left center!important}

        /* Mobile */
        .mobile-dots{position:fixed;bottom:1.5rem;left:50%;transform:translateX(-50%);z-index:40;display:none;flex-direction:column;align-items:center;gap:.5rem;padding-bottom:env(safe-area-inset-bottom)}
        .swipe-indicator{font-size:.65rem;color:rgba(255,255,255,.6);text-transform:uppercase;letter-spacing:.1em;font-weight:500;animation:pulse 2s ease-in-out infinite;text-shadow:0 2px 8px rgba(0,0,0,.8);margin-bottom:.25rem}
        .dots-container{display:flex;flex-direction:row;align-items:center;gap:.5rem}
        .dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.4);cursor:pointer;transition:all .3s ease}
        .dot.active{width:24px;border-radius:4px;background:var(--accent-color)}

        /* CTA Button */
        .cta-button-custom{background-size:200% 200%;animation:gradientShift 3s ease infinite;color:#fff;font-weight:700;padding:1rem 2rem;border-radius:50px;display:inline-flex;align-items:center;gap:.75rem;transition:all .3s ease;text-decoration:none;position:relative;overflow:hidden;letter-spacing:.02em;font-size:1rem;border:1px solid rgba(255,255,255,.1);z-index:1;cursor:pointer}
        .cta-button-custom:hover{transform:translateY(-2px);filter:brightness(1.1)}
        .cta-button-custom svg{width:1.25rem;height:1.25rem;flex-shrink:0;transition:transform .3s ease}
        .cta-button-custom span{position:relative;z-index:1;white-space:nowrap;color:#fff!important}
        .cta-button-custom.dock619-cta span{color:#333!important}
        .cta-button-custom.dock619-cta svg{stroke:#333}

        /* Enhanced Dock 619 text readability */
        .hero-content[data-dock619="true"] .hero-title,
        .hero-content[data-dock619="true"] .hero-tagline,
        .hero-content[data-dock619="true"] .hero-date,
        .hero-content[data-dock619="true"] .hero-location {
            text-shadow: 0 4px 20px rgba(0,0,0,0.95), 0 2px 10px rgba(0,0,0,0.9), 0 1px 5px rgba(0,0,0,0.8) !important;
            background: linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.4) 100%);
            backdrop-filter: blur(8px);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* Other components */
        .countdown-unit{background:rgba(0,0,0,.6);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:12px;padding:.75rem 1rem;text-align:center;min-width:60px}
        .pause-indicator{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:45;opacity:0;pointer-events:none;transition:opacity .3s ease}
        .pause-indicator.visible{opacity:1;animation:fadeInOut 1s ease-out}
        .pause-icon{width:80px;height:80px;background:rgba(0,0,0,.6);backdrop-filter:blur(10px);border-radius:50%;display:flex;align-items:center;justify-content:center;gap:8px}
        .pause-bar{width:6px;height:30px;background:#fff;border-radius:3px}
        .header-logo{cursor:pointer;transition:transform .2s ease}
        .header-logo:hover{transform:scale(1.05)}
        .dock619-grid-content,.studio76-grid-content{display:flex;flex-direction:column;justify-content:space-between;height:100%}
        .dock619-grid-top,.studio76-grid-top{display:flex;justify-content:space-between;align-items:flex-start}

        @supports not (animation: slideIn 1s){.hero-content>*{opacity:1!important}}
        .hero-content .cta-button-custom{display:inline-flex!important}

        /* Grid layouts */
        @media(min-width:2160px){
            .selection-grid{
                display:grid!important;
                grid-template-columns:1fr 1fr 1fr 1fr!important;
                grid-template-rows:1fr 1fr!important;
                max-width:none!important;
                width:80vw!important;
                max-height:85vh!important;
                gap:2rem!important;
                grid-template-areas:"tile1 tile2 tile3 tile4" "tile5 tile6 tile7 ."!important
            }
            .selection-tile{
                display:block!important;
                opacity:1!important;
                min-height:320px!important
            }
            .selection-tile:nth-child(1){grid-area:tile1!important}
            .selection-tile:nth-child(2){grid-area:tile2!important}
            .selection-tile:nth-child(3){grid-area:tile3!important}
            .selection-tile:nth-child(4){grid-area:tile4!important}
            .selection-tile:nth-child(5){grid-area:tile5!important}
            .selection-tile:nth-child(6){grid-area:tile6!important}
            .selection-tile:nth-child(7){grid-area:tile7!important}
            .grid-wrapper{padding:2rem 3rem!important}
        }
        /* FORCE 4K LAYOUT - MAXIMUM PRIORITY */
        @media only screen and (min-width:1800px) {
            .grid-selection-container .selection-grid{
                display:grid!important;
                grid-template-columns:repeat(12,1fr)!important;
                grid-template-rows:repeat(2,1fr)!important;
                max-width:none!important;
                width:85vw!important;
                max-height:80vh!important;
                gap:1.5rem!important;
                grid-template-areas:none!important;
            }
            .grid-selection-container .selection-tile{
                display:block!important;
                opacity:1!important;
                visibility:visible!important;
            }
            .grid-selection-container .selection-tile:nth-child(1){grid-column:1/4!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(2){grid-column:4/7!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(3){grid-column:7/10!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(4){grid-column:10/13!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(5){grid-column:1/5!important;grid-row:2!important}
            .grid-selection-container .selection-tile:nth-child(6){grid-column:5/9!important;grid-row:2!important}
            .grid-selection-container .selection-tile:nth-child(7){grid-column:9/13!important;grid-row:2!important}
        }
        @media(min-width:768px) and (max-width:1799px){
            .grid-selection-container .selection-grid{grid-template-columns:repeat(12,1fr)!important;grid-template-rows:repeat(2,1fr)!important;grid-auto-flow:dense}
            .grid-selection-container .selection-tile:nth-child(1){grid-column:1/4!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(2){grid-column:4/7!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(3){grid-column:7/10!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(4){grid-column:10/13!important;grid-row:1!important}
            .grid-selection-container .selection-tile:nth-child(5){grid-column:1/5!important;grid-row:2!important}
            .grid-selection-container .selection-tile:nth-child(6){grid-column:5/9!important;grid-row:2!important}
            .grid-selection-container .selection-tile:nth-child(7){grid-column:9/13!important;grid-row:2!important}
        }
        /* Disabled tablet layout for 4K compatibility */
        @media(min-width:480px) and (max-width:767px){
            .selection-grid{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(4,minmax(0,1fr));grid-template-areas:"a a b b" "c c d d" "e e f f" ". g g ."}
            .selection-grid::after{content:'';display:block;height:4rem;width:100%;grid-column:1/-1}
            .selection-tile:nth-child(1){grid-area:a}
            .selection-tile:nth-child(2){grid-area:b}
            .selection-tile:nth-child(3){grid-area:c}
            .selection-tile:nth-child(4){grid-area:d}
            .selection-tile:nth-child(5){grid-area:e}
            .selection-tile:nth-child(6){grid-area:f}
            .selection-tile:nth-child(7){grid-area:g}
            .grid-wrapper{padding-top:calc(80px + 0.25rem)}
        }
        @media(max-width:479px){
            .grid-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:calc(85px + 0.75rem) 1rem 1.5rem;padding-top:calc(85px + max(0.75rem,env(safe-area-inset-top) + 0.25rem));padding-bottom:max(1.5rem,env(safe-area-inset-bottom) + 1.5rem)}
            .selection-grid{grid-template-columns:1fr;grid-auto-rows:minmax(135px,auto);max-height:none;gap:20px;padding-bottom:6rem}
            .selection-grid::after{content:'';display:block;height:5rem;width:100%}
            .selection-tile:last-child{margin-bottom:4rem}
            .selection-tile{position:relative}

            .countdown-unit{padding:.5rem .75rem;min-width:50px}
        }
        /* Removed 7-column layout - now handled by 4k-presentation.css */
        @media(min-width:640px){.grid-selection-container header{height:80px}}
        @media(min-width:768px){.selection-tile{aspect-ratio:auto}.desktop-progress{display:flex}}
        @media(max-width:767px){.selection-tile{aspect-ratio:16/9}}
        @media(max-width:768px){
            .mobile-dots{display:flex}
            .desktop-progress{display:none!important}
            .hero-main-content{padding-top:max(8rem,env(safe-area-inset-top) + 7rem);padding-bottom:max(6rem,env(safe-area-inset-bottom) + 4rem);min-height:100vh;min-height:-webkit-fill-available;min-height:100dvh}
            .hero-content{max-width:100%;overflow-x:hidden}
            @media(max-height:700px) and (max-width:400px){
                .hero-content h2{font-size:1.75rem!important}
                .hero-content p{font-size:1rem!important}
                .countdown-unit{display:none}
            }
            .grid-selection-container{padding-top:env(safe-area-inset-top)}
            .hero-bg{animation:none!important}
            .hero-content>*{animation:fadeIn .4s ease-out forwards!important}
            .particle{display:none!important}
            .hero-content .hero-logo-container img{height:auto!important;max-height:5rem}
            .hero-logo-container{overflow:visible!important;margin-bottom:1.5rem!important;min-height:4.5rem;display:flex;align-items:flex-start}
            .hero-content .hero-logo-container:has(img[alt="Studio 76"]){padding-top:.5rem;min-height:5rem}
        }
        @media(max-width:640px){
            .header-tagline-grid{margin-top:0.375rem;padding-left:0.25rem;max-width:none!important;line-height:1.2}
            .header-tagline-hero{margin-top:0.25rem;padding-left:0.125rem;max-width:220px!important;line-height:1.3}
        }
        @media(min-width:769px){.mobile-dots{display:none!important}}
        @supports(-webkit-touch-callout:none){
            .hero-main-content{min-height:100vh;min-height:-webkit-fill-available}
            @media(max-width:768px){
                header{padding-top:env(safe-area-inset-top)}
                .hero-content{max-height:calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom) - 8rem)}
            }
            @media(max-width:768px) and (min-width:480px){
                .grid-wrapper{height:calc(100vh - 80px - env(safe-area-inset-top));padding-top:calc(80px + 2rem)}
            }
        }
        @media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}
        @-moz-document url-prefix(){
            @media(min-width:1024px) and (max-width:2999px){
                .selection-grid{grid-template-areas:none!important;display:grid!important;grid-template-columns:repeat(12,1fr)!important;grid-template-rows:repeat(2,1fr)!important}
            }
        }
        .mobile-container{position:relative;min-height:100vh;min-height:-webkit-fill-available;overflow:hidden}
        .category-tonic{background:linear-gradient(135deg,var(--accent-primary),var(--accent-50))}
    </style>
    <script>
        // Tooltip system for React homepage
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Tooltip script loaded');
            // Create tooltip element
            const tooltip = document.createElement('div');
            tooltip.style.cssText = `
                position: fixed;
                background: #333;
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 14px;
                font-weight: 500;
                white-space: nowrap;
                z-index: 999999;
                pointer-events: none;
                border: 2px solid #fff;
                box-shadow: 0 4px 12px rgba(0,0,0,0.8);
                opacity: 0;
                transition: opacity 0.2s ease;
                display: none;
            `;
            document.body.appendChild(tooltip);

            // Function to add tooltips to social links
            function addTooltips() {
                const socialLinks = document.querySelectorAll('a[href*="instagram"], a[href*="linkedin"]');
                console.log('Found social links:', socialLinks.length);

                socialLinks.forEach(link => {
                    // Determine tooltip text based on URL
                    let tooltipText = '';
                    if (link.href.includes('instagram')) tooltipText = 'Instagram';
                    if (link.href.includes('linkedin')) tooltipText = 'LinkedIn';

                    if (tooltipText) {
                        console.log('Adding tooltip to:', tooltipText);
                        // Remove existing listeners to prevent duplicates
                        link.removeEventListener('mouseenter', link._tooltipEnter);
                        link.removeEventListener('mouseleave', link._tooltipLeave);

                        // Create new listeners
                        link._tooltipEnter = function(e) {
                            tooltip.textContent = tooltipText;
                            tooltip.style.display = 'block';
                            tooltip.style.background = '#333';
                            tooltip.style.color = 'white';

                            const rect = link.getBoundingClientRect();
                            tooltip.style.left = (rect.left + rect.width/2 - 50) + 'px';
                            tooltip.style.top = (rect.bottom + 10) + 'px';
                            tooltip.style.opacity = '1';
                        };

                        link._tooltipLeave = function() {
                            tooltip.style.opacity = '0';
                            setTimeout(() => {
                                tooltip.style.display = 'none';
                            }, 200);
                        };

                        link.addEventListener('mouseenter', link._tooltipEnter);
                        link.addEventListener('mouseleave', link._tooltipLeave);
                    }
                });
            }

            // Initial call
            setTimeout(addTooltips, 1000);

            // Re-add tooltips when DOM changes (for React re-renders)
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'childList') {
                        setTimeout(addTooltips, 100);
                    }
                });
            });

            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
        });

        // === MOBILE MENU FUNCTION STANDARDIZATION ===
        function toggleMobileMenu() {
            console.log('toggleMobileMenu called - timestamp:', Date.now());

            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }

            const mobileMenu = document.getElementById('mobileMenu');
            if (!mobileMenu) {
                console.log('Mobile menu element not found');
                return;
            }

            const isCurrentlyOpen = mobileMenu.classList.contains('active') || 
                                   mobileMenu.style.display === 'flex' ||
                                   window.getComputedStyle(mobileMenu).display === 'flex';

            console.log('Menu currently open:', isCurrentlyOpen);

            if (isCurrentlyOpen) {
                mobileMenu.classList.remove('active');
                mobileMenu.style.display = 'none';
                mobileMenu.style.visibility = 'hidden';
                mobileMenu.style.opacity = '0';
                document.body.style.overflow = '';
                document.body.style.touchAction = '';
                console.log('Menu closed');
            } else {
                mobileMenu.classList.add('active');
                mobileMenu.style.display = 'flex';
                mobileMenu.style.visibility = 'visible';
                mobileMenu.style.opacity = '1';
                document.body.style.overflow = 'hidden';
                document.body.style.touchAction = 'none';
                console.log('Menu opened');
            }
        }

        // === TEMPORARY TEST FUNCTION === 
        function validateCleanBuild() {
            console.log('🧪 TESTING CLEAN BUILD - Page:', document.title);

            const results = {
                page: document.title,
                mobileMenuExists: !!document.getElementById('mobileMenu'),
                toggleFunctionWorks: typeof toggleMobileMenu === 'function',
                modalExists: !!(document.getElementById('newsModal') || document.getElementById('jobModal')),
                navItemsCount: document.querySelectorAll('.nav-item').length,
                zIndexCorrect: false
            };

            // Test z-index hierarchy
            const modal = document.getElementById('newsModal') || document.getElementById('jobModal');
            if (modal) {
                const modalZ = parseInt(window.getComputedStyle(modal).zIndex);
                results.zIndexCorrect = modalZ > 1000000;
                results.modalZIndex = modalZ;
            }

            console.table(results);
            return results;
        }

        // Auto-run test
        setTimeout(validateCleanBuild, 2000);
    </script>
</head>
<body>
    <noscript>
        <div style="min-height:100vh;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;padding:2rem;text-align:center">
            <div>
                <img src="images/tonic-logo.png" alt="Groupe Tonic" style="width:clamp(200px,40vw,300px);height:auto;margin-bottom:1rem;" />
                <p style="margin-bottom:2rem;opacity:.8">Ce site nécessite JavaScript pour fonctionner correctement. Veuillez l'activer dans votre navigateur.</p>
            </div>
        </div>
    </noscript>
    <div id="root"></div>
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel" data-type="module">
        const { useState, useEffect, useRef, useMemo, useCallback, memo } = React;

        // Constants - Optimized for smoother mobile transitions
        const SPLASH_DURATION = 3000;
        const GRID_PROGRESS_DURATION = 7000;
        const AUTO_PLAY_INTERVAL = 7000;
        const TRANSITION_DELAY = 200;
        const WHEEL_THROTTLE = 500;
        const MOBILE_BREAKPOINT = 768;
        const TOUCH_THRESHOLD = 50;
        const PAUSE_INDICATOR_DURATION = 1000;
        const COUNTDOWN_INTERVAL = 1000;
        const DEBOUNCE_DELAY = 250;
        const PARTICLE_COUNT = 4;

        // Utilities
        const getCSSVariable = n => getComputedStyle(document.documentElement).getPropertyValue(n).trim();
        const debounce = (f, w) => { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => f(...a), w); }; };

        // 4K Display Fix - Disabled in favor of CSS media query
        // JavaScript injection was causing conflicts with CSS rules

        // Color utilities
        const hexToRgb = (hex) => {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        };

        const rgbToHex = (r, g, b) => "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);

        const generateColorShades = (baseColor) => {
            const rgb = hexToRgb(baseColor);
            if (!rgb) return { base: baseColor, light: baseColor, dark: baseColor, glow: baseColor };

            return {
                base: baseColor,
                light: rgbToHex(Math.min(255, rgb.r + 51), Math.min(255, rgb.g + 51), Math.min(255, rgb.b + 51)),
                dark: rgbToHex(Math.max(0, rgb.r - 51), Math.max(0, rgb.g - 51), Math.max(0, rgb.b - 51)),
                glow: `${baseColor}44`
            };
        };

        // Icons
        const Icons = {
            cal: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
            grid: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>,
            info: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>,
            loc: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
            arr: <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
            menu: <svg className="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>,
            x: <svg className="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            work: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>,
            news: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M10 6h8"/><path d="M10 10h8"/><path d="M10 14h4"/></svg>,
            mail: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>,
            lang: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 5h12v4H3zM3 15h12v4H3zM8 10v4"/></svg>,
            instagram: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>,
            linkedin: <svg className="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        };

        // Logo scales (Beach Pro Tour reduced by 25% - updated 2025-01-30)
        const LOGO_SCALES = {
            4: { mobile: .9, desktop: .9 }, // Grid view - reduced by 25% from 1.20
            1: { mobile: .7632, desktop: .578 },
            5: { mobile: .9504, desktop: .72 },
            3: { mobile: 1.0932, desktop: .828 },
            2: { mobile: 1.0824, desktop: .82 },
            6: { mobile: 1.1904, desktop: .902 },
            7: { mobile: .768, desktop: .96 }
        };

        // Properties data
        const PROPERTIES = [
            {id:4,name:"BEACH PRO TOUR",tagline:"L'élite mondiale du volleyball de plage",category:"CIRCUIT INTERNATIONAL",date:"13-17 août 2025",location:"Montréal",color:"#ff0e9b",image:"images/beach-pro-tour-hero.webp",logo:"images/beach-pro-tour-logo.png?v=20250130",url:"https://mtlbeachprotour.com/",countdown:new Date('2025-08-13'),theme:{primary:"from-pink-600 to-pink-500",secondary:"from-pink-900 to-pink-700"}},
            {id:2,name:"GRANDS PRIX CYCLISTES",tagline:"Les seules épreuves UCI WorldTour en Amérique",category:"CYCLISME INTERNATIONAL",date:"12 & 14 septembre 2025",location:"Québec & Montréal",color:"#b7d233",image:"images/grands-prix-cyclistes-hero.webp",logo:"images/GPCQM-logo.png",url:"https://gpcqm.ca/",countdown:new Date('2025-09-12'),theme:{primary:"from-lime-600 to-lime-500",secondary:"from-lime-900 to-lime-700"}},
            {id:1,name:"MARATHON BENEVA DE MONTRÉAL",tagline:"Vivez-le!",category:"COURSE À PIED",date:"19-21 septembre 2025",location:"Montréal, QC",color:"#463092",menuColor:"#957ab7",image:"images/marathon-beneva-hero.webp",logo:"images/marathon-beneva-logo.png",url:"https://couronsmtl.com/marathon-beneva/accueil/",countdown:new Date('2025-09-19'),theme:{primary:"from-indigo-700 to-indigo-600",secondary:"from-indigo-900 to-indigo-800"}},
            {id:5,name:"21K DE MONTRÉAL",tagline:"Démarrez en grand votre saison de course",category:"COURSE À PIED",date:"Avril 2026",location:"Montréal",color:"#e2493c",image:"images/21k-hero.webp",logo:"images/21k-logo.png",url:"https://couronsmtl.com/21k/accueil/",countdown:new Date('2026-04-01'),theme:{primary:"from-red-500 to-red-400",secondary:"from-red-800 to-red-700"}},
            {id:3,name:"CHAMPIONNATS DU MONDE ROUTE UCI MONTRÉAL 2026",tagline:"Montréal, capitale mondiale du vélo",category:"MONDIAUX",date:"19-27 septembre 2026",location:"Montréal, QC",color:"#da273b",image:"images/montreal-2026-uci-hero.webp",logo:"images/montreal-2026-uci-logo.png",url:"https://www.montreal2026.org/",countdown:new Date('2026-09-19'),theme:{primary:"from-red-700 to-red-600",secondary:"from-red-900 to-red-800"}},
            {id:6,name:"STUDIO 76",tagline:"Services intégrés en production vidéo, télévisuelle et création de contenus de marque, pour donner vie à des projets percutants et sur mesure",category:"PRODUCTION",date:"",location:"Longueuil, QC",color:"#03b0f9",image:"images/studio76-hero.webp",logo:"images/studio76-logo.png",url:"https://studio-76.ca/",theme:{primary:"from-blue-500 to-blue-400",secondary:"from-blue-900 to-blue-700"}},
            {id:7,name:"DOCK 619",tagline:"Une équipe chevronnée au service d'expériences inoubliables, dans un lieu haut de gamme pouvant accueillir jusqu'à 400 invités. Mariages, événements corporatifs, lancements ou soirées festives, du plus intime au plus grandiose.",category:"LIEU ÉVÉNEMENTIEL",date:"",location:"Longueuil, QC",color:"#ffffff",image:"images/dock619-hero-new.webp",logo:"images/dock619-logo.png",url:"https://dock619.ca/",theme:{primary:"from-gray-600 to-gray-400",secondary:"from-gray-900 to-gray-700"}}
        ];

        // Navigation factory
        const createNavItems = (goToGrid) => [
            {href:'index.html',icon:Icons.grid,label:'Accueil',onClick:e=>{e.preventDefault();goToGrid()}},
            {href:'a-propos.html',icon:Icons.info,label:'À propos'},
            {href:'emplois.html',icon:Icons.work,label:'Emplois'},
            {href:'communiques.html',icon:Icons.news,label:'Communiqués'},
            {href:'nous-joindre.html',icon:Icons.mail,label:'Nous joindre'},
            {href:'https://www.instagram.com/groupetonic/',icon:Icons.instagram,label:'',tooltip:'Instagram',isSocial:true,target:'_blank'},
            {href:'https://www.linkedin.com/company/groupe-tonic/',icon:Icons.linkedin,label:'',tooltip:'LinkedIn',isSocial:true,target:'_blank'}
        ];

        // Header Component
        const Header = memo(({goToGrid,isMobileMenuOpen,setIsMobileMenuOpen,currentView}) => {
            const navItems = useMemo(() => createNavItems(goToGrid), [goToGrid]);
            const [headerScrolled, setHeaderScrolled] = useState(false);

            useEffect(() => {
                const gridWrapper = document.querySelector('.grid-wrapper');
                if (!gridWrapper || currentView !== 'grid') return;

                const handleScroll = () => {
                    const scrollTop = gridWrapper.scrollTop;
                    setHeaderScrolled(scrollTop > 20);
                };

                gridWrapper.addEventListener('scroll', handleScroll);
                return () => gridWrapper.removeEventListener('scroll', handleScroll);
            }, [currentView]);

            const headerStyle = useMemo(() => ({
                background: currentView === 'grid' 
                    ? headerScrolled 
                        ? 'linear-gradient(180deg, rgba(0,0,0,0.98) 0%, rgba(0,0,0,0.95) 50%, rgba(0,0,0,0.85) 100%)'
                        : 'rgba(0,0,0,0.95)'
                    : 'linear-gradient(to bottom,rgba(0,0,0,0.2),rgba(0,0,0,0.02) 30%,transparent 60%)',
                backdropFilter: currentView === 'grid' ? 'blur(20px) saturate(180%)' : 'none',
                WebkitBackdropFilter: currentView === 'grid' ? 'blur(20px) saturate(180%)' : 'none',
                boxShadow: currentView === 'grid' 
                    ? headerScrolled 
                        ? '0 8px 40px rgba(0,0,0,0.8), 0 2px 20px rgba(0,0,0,0.6)'
                        : '0 4px 30px rgba(0,0,0,0.5)'
                    : 'none',
                transition: 'all 0.3s ease'
            }), [currentView, headerScrolled]);

            return (
                <header className="fixed top-0 left-0 right-0 z-50" style={headerStyle}>
                    <div className="container mx-auto px-2 py-2 sm:px-4 sm:py-5">
                        <div className="flex items-center justify-between">
                            <div className="flex flex-col sm:flex-row items-start sm:items-center gap-0 sm:gap-4">
                                <h1 className="header-logo text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-white leading-none" 
                                    style={{textShadow:'0 4px 20px rgba(0,0,0,0.9), 0 2px 10px rgba(0,0,0,0.8)'}}
                                    onClick={goToGrid}>
                                    <img src="images/tonic-logo.png" alt="Logo Groupe Tonic - Créateur d'expériences mémorables depuis plus de 40 ans" style={{width:'clamp(180px,35vw,250px)',height:'auto'}} />
                                </h1>
                                <span className="text-white text-xs md:text-sm font-medium leading-tight"
                                    style={{textShadow:'0 2px 10px rgba(0,0,0,0.9)'}}>
                                    <span className="hidden sm:inline">| Créateur d'expériences mémorables</span>
                                    <span className="sm:hidden">Créateur d'expériences mémorables</span>
                                </span>
                            </div>
                            <div className="flex items-center gap-4">
                                <nav className="hidden md:flex lg:flex items-center gap-0.5 px-2 py-0.5 rounded-full nav-container" style={{background:'rgba(0,0,0,0.2)',backdropFilter:'blur(10px)'}}>
                                    {navItems.map(i => (
                                        <a key={i.label || i.tooltip} onClick={i.onClick} href={i.href} target={i.target} className="nav-item flex items-center gap-1 px-2 py-1 rounded-lg hover:bg-white/10 transition-all text-white hover:text-white cursor-pointer" data-tooltip={i.tooltip || i.label}>
                                            {i.icon}
                                            {i.label && <span className="text-xs font-medium" data-social={i.isSocial}>{i.label}</span>}
                                        </a>
                                    ))}
                                    <div className="lang-divider"></div>
                                    <a href="index-en.html" className="lang-switcher"><span>EN</span></a>
                                </nav>
                                <button onClick={()=>setIsMobileMenuOpen(!isMobileMenuOpen)} className="md:hidden p-2 hover:bg-white/10 rounded-lg transition-colors text-white" style={{background:'rgba(0,0,0,0.2)',backdropFilter:'blur(10px)',color:'white'}}>
                                    <div style={{color:'white'}}>{isMobileMenuOpen?Icons.x:Icons.menu}</div>
                                </button>
                            </div>
                        </div>
                    </div>
                </header>
            );
        });

        // Property Tile Component
        const PropertyTile = memo(({property,index,onClick,getLogoScale}) => {
            const tileContent = useMemo(() => {
                if(property.id===7) return (
                    <div className="dock619-grid-content">
                        <div className="dock619-grid-top" style={{marginLeft:'-0.25rem',marginTop:'1rem'}}>
                            <img src="images/dock619-logo-2.png" alt="DOCK 619" className="h-3.5 sm:h-4 md:h-5 object-contain" 
                                style={{filter:'drop-shadow(0 2px 8px rgba(0,0,0,0.9))',maxWidth:'100%',transform:'scale(1.04)'}} loading="lazy"/>
                        </div>
                        <div style={{minHeight:'3.5rem',display:'flex',alignItems:'flex-end',paddingBottom:'0.25rem'}}>
                            <p className="selection-tile-tagline">DES ÉVÉNEMENTS<br/>CRÉATIFS ET GOURMANDS</p>
                        </div>
                    </div>
                );
                if(property.id===6) return (
                    <div className="studio76-grid-content">
                        <div className="studio76-grid-top">
                            <img src="images/studio76-logo.png" alt="Studio 76" className="h-14 sm:h-16 md:h-20 object-contain" 
                                style={{filter:'drop-shadow(0 2px 8px rgba(0,0,0,0.9))',maxWidth:'100%',transform:'scale(0.97)'}} loading="lazy"/>
                        </div>
                        <div style={{minHeight:'3.5rem',display:'flex',alignItems:'flex-end',paddingBottom:'0.25rem'}}>
                            <p className="selection-tile-tagline">SERVICES INTÉGRÉS<br/>EN PRODUCTION VIDÉO</p>
                        </div>
                    </div>
                );
                return (
                    <>
                        <div style={{paddingLeft:property.id===2?'clamp(2rem, 4vw, 3rem)':'0',paddingTop:property.id===2?'0.4rem':'0'}}>{property.logo&&<img src={property.logo} alt={property.name} className="selection-tile-logo" 
                            style={{transform:property.id===3?'scale(1.15)':property.id===2?'scale(1.885)':property.id===4?'scale(0.90)':'scale(1)',margin:property.id===3?'0.5rem':property.id===4?'-0.5rem 0 0 -0.1rem':'0'}} loading="lazy"/>}</div>
                        <div className="selection-tile-content">
                            <h3 className="selection-tile-title">{property.name}</h3>
                            {property.date&&<p className="selection-tile-date">{property.date}</p>}
                        </div>
                    </>
                );
            }, [property]);

            return (
                <div className="selection-tile" style={{'--index':index,'--brand-color':property.color}} onClick={()=>onClick(index)}>
                    <div className="selection-tile-bg" style={{backgroundImage:property.image?`url(${property.image})`:'none',backgroundColor:property.color}}/>
                    <div className={`absolute inset-0 bg-gradient-to-r ${property.theme.primary} opacity-50`}/>
                    <div className="selection-tile-overlay">{tileContent}</div>
                </div>
            );
        });

        // Mobile Menu Component
        const MobileMenu = ({isOpen, navItems, currentView, hideSwipeInstructions}) => {
            if(!isOpen) return null;
            return (
                <div className="md:hidden fixed inset-0 z-40 bg-black/95 backdrop-blur-md">
                    <div className="h-full pt-20 pb-6">
                        <div className="container mx-auto px-4 py-4">
                            <div className="space-y-2">
                                {navItems.map(i=>(
                                    <a key={i.label || i.tooltip} onClick={i.onClick} href={i.href} target={i.target} className="flex items-center gap-3 p-3 rounded-lg hover:bg-white/10 transition-all cursor-pointer text-white">
                                        <div style={{color:'white'}}>{i.icon}</div>
                                        {i.label && <span className="font-medium text-white">{i.label}</span>}
                                        {!i.label && i.tooltip && <span className="font-medium text-white">{i.tooltip}</span>}
                                    </a>
                                ))}
                                <a href="index-en.html" className="flex items-center gap-3 p-3 rounded-lg hover:bg-white/10 transition-all cursor-pointer text-white">
                                    <div style={{color:'white'}}>{Icons.lang}</div>
                                    <span className="font-medium text-white">English</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App Component
        function App() {
            const [state, setState] = useState({
                activeIndex:0,
                timeLeft:{},
                isMobileMenuOpen:false,
                isProgressPaused:false,
                showPauseIndicator:false,
                currentView:'splash',
                isMobileView:window.innerWidth<=MOBILE_BREAKPOINT,
                progressKey:0,
                isInitialized:false,
                isTransitioning:false,
                showGridProgress:false,
                accentColor:'#fe4445',
                touchStart:null,
                touchEnd:null
            });

            const timers = useRef({
                lastWheelTime:0,
                autoPlayTimer:null,
                countdownTimer:null,
                gridTimer:null,
                transitionTimer:null,
                pauseTimer:null
            });

            const currentProperty = useMemo(() => PROPERTIES[state.activeIndex], [state.activeIndex]);

            // Cleanup all timers
            useEffect(() => {
                return () => {
                    Object.values(timers.current).forEach(timer => {
                        if(timer && typeof timer === 'object') {
                            clearTimeout(timer);
                            clearInterval(timer);
                        }
                    });
                };
            }, []);

            // Initialize
            useEffect(() => {
                const color = getCSSVariable('--accent-primary');
                if(color) setState(prev => ({...prev, accentColor: color}));
                setState(prev => ({...prev, isInitialized: true}));
                new Image().src = PROPERTIES[0].image;

                timers.current.autoPlayTimer = setTimeout(() => {
                    setState(prev => ({...prev, currentView: 'grid', showGridProgress: true}));
                    timers.current.gridTimer = setTimeout(() => {
                        setState(prev => ({...prev, showGridProgress: false}));
                        startHeroSequence(0);
                    }, GRID_PROGRESS_DURATION);
                }, SPLASH_DURATION);
            }, []);

            // Resize handler
            useEffect(() => {
                const handleResize = debounce(() => {
                    setState(prev => ({...prev, isMobileView: window.innerWidth <= MOBILE_BREAKPOINT}));
                }, DEBOUNCE_DELAY);
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            // Auto-rotate
            useEffect(() => {
                if(state.isProgressPaused || state.currentView !== 'hero' || state.isTransitioning) return;

                timers.current.autoPlayTimer = setInterval(() => {
                    setState(prev => {
                        const nextIndex = (prev.activeIndex + 1) % PROPERTIES.length;
                        if(nextIndex === 0) {
                            if(timers.current.autoPlayTimer) clearInterval(timers.current.autoPlayTimer);
                            setTimeout(() => {
                                setState(x => ({...x, currentView: 'grid', showGridProgress: true}));
                                timers.current.gridTimer = setTimeout(() => {
                                    setState(x => ({...x, showGridProgress: false}));
                                    startHeroSequence(0);
                                }, GRID_PROGRESS_DURATION);
                            }, 100);
                            return prev;
                        }
                        return {...prev, activeIndex: nextIndex, progressKey: prev.progressKey + 1};
                    });
                }, AUTO_PLAY_INTERVAL);

                return () => {
                    if(timers.current.autoPlayTimer) clearInterval(timers.current.autoPlayTimer);
                    if(timers.current.gridTimer) clearTimeout(timers.current.gridTimer);
                };
            }, [state.activeIndex, state.isProgressPaused, state.currentView, state.isTransitioning]);

            // Countdown timer
            useEffect(() => {
                const calculateTimeLeft = () => {
                    const now = new Date();
                    const newTimeLeft = {};
                    PROPERTIES.forEach(prop => {
                        if(!prop.countdown) return;
                        const diff = prop.countdown - now;
                        if(diff > 0) {
                            newTimeLeft[prop.id] = {
                                jours: Math.floor(diff / 86400000),
                                heures: Math.floor((diff / 3600000) % 24),
                                minutes: Math.floor((diff / 60000) % 60),
                                secondes: Math.floor((diff / 1000) % 60)
                            };
                        }
                    });
                    setState(prev => ({...prev, timeLeft: newTimeLeft}));
                };

                calculateTimeLeft();
                timers.current.countdownTimer = setInterval(calculateTimeLeft, COUNTDOWN_INTERVAL);
                return () => clearInterval(timers.current.countdownTimer);
            }, []);

            // Handlers
            const startHeroSequence = useCallback((index) => {
                if(timers.current.gridTimer) clearTimeout(timers.current.gridTimer);
                setState(prev => ({
                    ...prev,
                    showGridProgress: false,
                    activeIndex: index,
                    progressKey: prev.progressKey + 1,
                    currentView: 'hero',
                    isMobileMenuOpen: false
                }));
            }, []);

            const handlePropertyChange = useCallback((index) => {
                if(state.currentView !== 'hero' || index === state.activeIndex || state.isTransitioning) return;
                setState(prev => ({...prev, isTransitioning: true}));
                timers.current.transitionTimer = setTimeout(() => {
                    setState(prev => ({
                        ...prev,
                        activeIndex: index,
                        progressKey: prev.progressKey + 1,
                        isTransitioning: false,
                        isMobileMenuOpen: false
                    }));
                }, TRANSITION_DELAY);
            }, [state.activeIndex, state.currentView, state.isTransitioning]);

            const handleProgressLineClick = useCallback((index) => {
                if(index === state.activeIndex) {
                    setState(prev => ({...prev, isProgressPaused: !prev.isProgressPaused, showPauseIndicator: true}));
                    timers.current.pauseTimer = setTimeout(() => {
                        setState(prev => ({...prev, showPauseIndicator: false}));
                    }, PAUSE_INDICATOR_DURATION);
                } else {
                    handlePropertyChange(index);
                    setState(prev => ({...prev, isProgressPaused: false}));
                }
            }, [state.activeIndex, handlePropertyChange]);

            const handleNavigation = useCallback((direction) => {
                const nextIndex = direction === 'next' 
                    ? (state.activeIndex + 1) % PROPERTIES.length
                    : state.activeIndex === 0 ? PROPERTIES.length - 1 : state.activeIndex - 1;

                if(direction === 'next' && nextIndex === 0) {
                    setState(prev => ({...prev, currentView: 'grid', showGridProgress: true}));
                    timers.current.gridTimer = setTimeout(() => {
                        setState(prev => ({...prev, showGridProgress: false}));
                        startHeroSequence(0);
                    }, GRID_PROGRESS_DURATION);
                } else {
                    handlePropertyChange(nextIndex);
                    setState(prev => ({...prev, isProgressPaused: false}));
                }
            }, [state.activeIndex, handlePropertyChange, startHeroSequence]);

            // Keyboard and wheel handlers
            useEffect(() => {
                if(state.currentView !== 'hero') return;

                const handleKeyDown = (e) => {
                    if(state.isTransitioning) return;
                    switch(e.key) {
                        case 'ArrowLeft':
                            e.preventDefault();
                            handleNavigation('prev');
                            break;
                        case 'ArrowRight':
                            e.preventDefault();
                            handleNavigation('next');
                            break;
                        case ' ':
                        case 'Spacebar':
                            e.preventDefault();
                            setState(prev => ({...prev, isProgressPaused: !prev.isProgressPaused, showPauseIndicator: true}));
                            timers.current.pauseTimer = setTimeout(() => {
                                setState(prev => ({...prev, showPauseIndicator: false}));
                            }, PAUSE_INDICATOR_DURATION);
                            break;
                    }
                };

                const handleWheel = (e) => {
                    if(state.isTransitioning || state.isMobileView) return;
                    const now = Date.now();
                    if(now - timers.current.lastWheelTime < WHEEL_THROTTLE) return;
                    if(Math.abs(e.deltaY) > 50 || Math.abs(e.deltaX) > 50) {
                        e.preventDefault();
                        timers.current.lastWheelTime = now;
                        const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;
                        handleNavigation(delta > 0 ? 'next' : 'prev');
                    }
                };

                window.addEventListener('keydown', handleKeyDown);
                window.addEventListener('wheel', handleWheel, {passive: false});
                return () => {
                    window.removeEventListener('keydown', handleKeyDown);
                    window.removeEventListener('wheel', handleWheel);
                };
            }, [state.currentView, state.isTransitioning, state.isMobileView, handleNavigation]);

            // Touch handlers
            const handleTouchStart = useCallback((e) => {
                if(state.currentView !== 'hero') return;
                const touch = e.touches[0];
                setState(prev => ({...prev, touchStart: touch.clientX, touchEnd: touch.clientX}));
            }, [state.currentView]);

            const handleTouchMove = useCallback((e) => {
                if(state.currentView !== 'hero') return;
                setState(prev => ({...prev, touchEnd: e.touches[0].clientX}));
            }, [state.currentView]);

            const handleTouchEnd = useCallback(() => {
                if(state.currentView !== 'hero' || state.isTransitioning || !state.touchStart) return;
                const diff = state.touchStart - state.touchEnd;
                if(Math.abs(diff) < TOUCH_THRESHOLD) return;
                handleNavigation(diff > 0 ? 'next' : 'prev');
            }, [state.currentView, state.isTransitioning, state.touchStart, state.touchEnd, handleNavigation]);

            const goToGrid = useCallback(() => {
                if(timers.current.gridTimer) clearTimeout(timers.current.gridTimer);
                setState(prev => ({...prev, showGridProgress: false, currentView: 'grid', isMobileMenuOpen: false}));
            }, []);

            const navItems = useMemo(() => createNavItems(goToGrid), [goToGrid]);

            const getLogoScale = useCallback((property, isMobile, isGridView = false) => {
                const scales = LOGO_SCALES[property.id] || { mobile: 1.0824, desktop: .82 };

                // Special handling for Beach Pro Tour (id:4)
                if (property.id === 4) {
                    if (isGridView) {
                        return scales.desktop; // Use reduced scale for grid
                    } else {
                        return 0.78; // Hero view reduced by 35% (1.20 × 0.65)
                    }
                }

                return isMobile ? scales.mobile : scales.desktop;
            }, []);

            const ctaButtonStyle = useMemo(() => {
                const colors = generateColorShades(currentProperty.color);
                return {
                    background: `linear-gradient(135deg, ${colors.base}, ${colors.light}, ${colors.base})`,
                    boxShadow: `0 10px 40px rgba(0,0,0,.3), 0 0 80px ${colors.glow}, inset 0 0 20px rgba(255,255,255,.1)`
                };
            }, [currentProperty.color]);

            if(!state.isInitialized) return (
                <div style={{minHeight:'100vh',background:'#000',color:'white',display:'flex',alignItems:'center',justifyContent:'center'}}>
                    <img src="images/tonic-logo.png" alt="Groupe Tonic" style={{width:'clamp(200px,40vw,300px)',height:'auto'}} />
                </div>
            );

            return (
                <div data-current-view={state.currentView} className={state.isMobileView?'mobile-container':''}>
                    {/* Splash */}
                    <div className={`view-container ${state.currentView==='splash'?'active':''}`}>
                        <div className="splash-container">
                            <img src="images/tonic-logo.png" alt="Logo Groupe Tonic - Organisation d'événements sportifs au Québec" className="splash-logo" />
                            <p className="splash-tagline">Créateur d'expériences mémorables</p>
                        </div>
                    </div>

                    {/* Grid */}
                    <div className={`view-container ${state.currentView==='grid'?'active':''}`}>
                        <div className="grid-selection-container">
                            <Header 
                                goToGrid={goToGrid} 
                                isMobileMenuOpen={state.isMobileMenuOpen} 
                                setIsMobileMenuOpen={v=>setState(p=>({...p,isMobileMenuOpen:v}))} 
                                currentView={state.currentView}
                            />
                            <div className="grid-wrapper">
                                <div className="selection-grid">
                                    {PROPERTIES.map((p,i)=><PropertyTile key={p.id} property={p} index={i} onClick={startHeroSequence} getLogoScale={getLogoScale}/>)}
                                </div>
                            </div>
                            {state.showGridProgress&&<div className="grid-progress-bar" style={{display:'block'}}><div className="grid-progress-fill"/></div>}
                            <MobileMenu isOpen={state.isMobileMenuOpen} navItems={navItems} currentView={state.currentView} hideSwipeInstructions={state.currentView !== 'hero'}/>
                        </div>
                    </div>

                    {/* Hero */}
                    <div className={`view-container ${state.currentView==='hero'?'active':''}`}>
                        <div className="min-h-screen relative overflow-hidden" style={{minHeight:state.isMobileView?'100dvh':'100vh'}} 
                             onTouchStart={handleTouchStart} onTouchMove={handleTouchMove} onTouchEnd={handleTouchEnd}>
                            {/* Background */}
                            <div className="absolute inset-0">
                                <div className="hero-bg absolute inset-0 bg-cover bg-center" style={{
                                    backgroundImage:currentProperty.image?`url(${currentProperty.image})`:'none',
                                    backgroundColor:currentProperty.color,
                                    opacity:state.isTransitioning?.7:1,
                                    transition:'opacity 0.5s ease-in-out'
                                }}/>
                                <div className={`absolute inset-0 bg-gradient-to-r ${currentProperty.theme.primary} opacity-50`} style={{
                                    opacity:state.isTransitioning?.3:.5,
                                    transition:'opacity 0.5s ease-in-out'
                                }}/>
                                <div className={`absolute inset-0 bg-gradient-to-br ${currentProperty.theme.secondary} opacity-25`}/>
                                <div className="absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/70"/>
                                {state.currentView==='hero'&&!state.isMobileView&&(
                                    <div className="absolute inset-0">
                                        {[...Array(PARTICLE_COUNT)].map((_,i)=>(
                                            <div key={i} className="particle" style={{
                                                left:`${Math.random()*100}%`,
                                                top:`${Math.random()*100}%`,
                                                animationDelay:`${Math.random()*12}s`,
                                                background:currentProperty.color,
                                                opacity:state.isTransitioning?0:.6,
                                                transition:'opacity 0.5s ease-in-out'
                                            }}/>
                                        ))}
                                    </div>
                                )}
                            </div>

                            <Header 
                                goToGrid={goToGrid} 
                                isMobileMenuOpen={state.isMobileMenuOpen} 
                                setIsMobileMenuOpen={v=>setState(p=>({...p,isMobileMenuOpen:v}))} 
                                currentView={state.currentView}
                            />

                            {/* Side Nav */}
                            <div className="hidden lg:block side-nav-wrapper">
                                <div className="glass rounded-l-2xl p-4" style={{background:'rgba(0,0,0,0.5)'}}>
                                    <div className="space-y-1">
                                        {PROPERTIES.map((p,i)=>(
                                            <div key={p.id} onClick={()=>handleProgressLineClick(i)} 
                                                 className={`side-nav-item p-3 ${i===state.activeIndex?'active':''}`} 
                                                 style={{'--accent-color':p.color}}>
                                                <div className={`font-semibold text-sm transition-colors ${i===state.activeIndex?'text-white':'text-white hover:text-white'}`}
                                                     style={{color:i===state.activeIndex?(p.menuColor||p.color):''}}>{p.name}</div>
                                                {p.date&&<div className="text-xs text-white mt-1">{p.date}</div>}
                                                {i===state.activeIndex&&(
                                                    <div key={`progress-${state.progressKey}`} className={`progress-bar ${state.isProgressPaused?'paused':''}`} 
                                                        style={{'--accent-color':p.color,background:p.color,boxShadow:`0 0 15px ${p.color}`}}/>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {/* Mobile Menu */}
                            {state.isMobileMenuOpen&&(
                                <div className="md:hidden fixed inset-0 z-40 bg-black/95 backdrop-blur-md">
                                    <div className="h-full overflow-y-auto pt-16 pb-6">
                                        <div className="container mx-auto px-4 py-4">
                                            <div className="mb-6 pb-6 border-b border-white/10">
                                                <div className="space-y-2">
                                                    {navItems.map(i=>(
                                                        <a key={i.label || i.tooltip} onClick={i.onClick} href={i.href} target={i.target} className="flex items-center gap-3 p-3 rounded-lg hover:bg-white/10 transition-all cursor-pointer text-white">
                                                            <div style={{color:'white'}}>{i.icon}</div>
                                                            {i.label && <span className="font-medium text-white">{i.label}</span>}
                                                            {!i.label && i.tooltip && <span className="font-medium text-white">{i.tooltip}</span>}
                                                        </a>
                                                    ))}
                                                    <a href="index-en.html" className="flex items-center gap-3 p-3 rounded-lg hover:bg-white/10 transition-all cursor-pointer text-white">
                                                        <div style={{color:'white'}}>{Icons.lang}</div>
                                                        <span className="font-medium text-white">English</span>
                                                    </a>
                                                </div>
                                            </div>
                                            <div className="space-y-2">
                                                {PROPERTIES.map((p,i)=>(
                                                    <button key={p.id} onClick={()=>{
                                                        if(i===state.activeIndex){
                                                            setState(x=>({...x,isProgressPaused:!x.isProgressPaused,showPauseIndicator:true,isMobileMenuOpen:false}));
                                                            timers.current.pauseTimer = setTimeout(()=>setState(x=>({...x,showPauseIndicator:false})),PAUSE_INDICATOR_DURATION);
                                                        } else {
                                                            handlePropertyChange(i);
                                                            setState(x=>({...x,isProgressPaused:false}));
                                                        }
                                                    }} className={`w-full text-left p-3 rounded-lg transition-all ${i===state.activeIndex?'bg-white/10':'hover:bg-white/5'}`}>
                                                        <div className="flex items-center gap-3">
                                                            <div className="w-1 h-10 rounded-full" style={{backgroundColor:i===state.activeIndex?p.color:'rgba(255,255,255,0.2)'}}/>
                                                            <div>
                                                                <div className="font-semibold text-white text-sm" style={{color:i===state.activeIndex?(p.menuColor||p.color):'white'}}>{p.name}</div>
                                                                {p.date&&<div className="text-xs text-white mt-0.5">{p.date}</div>}
                                                            </div>
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Mobile Dots */}
                            {state.isMobileView && state.currentView === 'hero' && !state.isMobileMenuOpen && (
                                <div className="mobile-dots" style={{display: 'flex'}}>
                                    <div className="swipe-indicator">← Glisser / Toucher →</div>
                                    <div className="dots-container">
                                        {PROPERTIES.map((_,i)=>(
                                            <button key={i} onClick={()=>{
                                                if(i===state.activeIndex){
                                                    setState(x=>({...x,isProgressPaused:!x.isProgressPaused,showPauseIndicator:true}));
                                                    timers.current.pauseTimer = setTimeout(()=>setState(x=>({...x,showPauseIndicator:false})),PAUSE_INDICATOR_DURATION);
                                                } else {
                                                    handlePropertyChange(i);
                                                    setState(x=>({...x,isProgressPaused:false}));
                                                }
                                            }} className={`dot ${i===state.activeIndex?'active':''}`} style={{'--accent-color':currentProperty.color}}/>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* Desktop Progress */}
                            <div className="desktop-progress">
                                {PROPERTIES.map((_,i)=>(
                                    <button key={`line-${state.progressKey}-${i}`} onClick={()=>handleProgressLineClick(i)}
                                        className={`progress-line ${i===state.activeIndex?'active':''} ${state.isProgressPaused?'paused':''}`}
                                        style={{'--accent-color':currentProperty.color}}/>
                                ))}
                            </div>

                            {/* Pause Indicator */}
                            <div className={`pause-indicator ${state.showPauseIndicator?'visible':''}`}>
                                <div className="pause-icon">
                                    <div className="pause-bar"></div>
                                    <div className="pause-bar"></div>
                                </div>
                            </div>

                            {/* Main Content */}
                            <main className="hero-main-content relative z-10 min-h-screen flex items-center px-4 sm:px-6 md:px-12 lg:px-20 xl:px-24 2xl:px-32 py-12 sm:py-16 md:py-20">
                                <div className="container mx-auto max-w-7xl">
                                    <div className="lg:pr-80 xl:pr-96">
                                        <div className="hero-content max-w-4xl text-left" key={state.activeIndex} data-dock619={currentProperty.id === 7 ? "true" : "false"}>
                                            {/* Logo */}
                                            {currentProperty.logo&&currentProperty.id!==7&&currentProperty.id!==6&&(
                                                <div className="hero-logo-container mb-4 sm:mb-6" style={{'--child-index':0}}>
                                                    <img src={currentProperty.logo} alt={`Logo ${currentProperty.name}`} className="sm:h-14 md:h-16 lg:h-20 xl:h-24 object-contain opacity-90"
                                                        style={{filter:'drop-shadow(0 2px 8px rgba(0,0,0,0.8))',height:state.isMobileView?'auto':undefined,
                                                        maxHeight:state.isMobileView?'4rem':undefined,transform:`scale(${getLogoScale(currentProperty,state.isMobileView,false)})`,
                                                        transformOrigin:'left center'}} loading="lazy"/>
                                                </div>
                                            )}

                                            {/* Title */}
                                            {currentProperty.id===7?(
                                                <div className="hero-logo-container mb-4 sm:mb-6" style={{'--child-index':1}}>
                                                    <img src="images/dock619-logo-2.png" alt="DOCK 619" className="sm:h-14 md:h-16 lg:h-20 xl:h-24 object-contain"
                                                        style={{filter:'drop-shadow(0 4px 20px rgba(0,0,0,0.8))',height:state.isMobileView?'auto':undefined,
                                                        maxHeight:state.isMobileView?'4rem':undefined,transform:`scale(${getLogoScale(currentProperty,state.isMobileView,false)})`,
                                                        transformOrigin:'left center'}} loading="lazy"/>
                                                </div>
                                            ):currentProperty.id===6?(
                                                <>
                                                    <div className="hero-logo-container mb-4 sm:mb-6" style={{'--child-index':0,paddingTop:state.isMobileView?'0.5rem':'0'}}>
                                                        <img src="images/studio76-logo.png" alt="Studio 76" className="sm:h-14 md:h-16 lg:h-20 xl:h-24 object-contain opacity-90"
                                                            style={{filter:'drop-shadow(0 2px 8px rgba(0,0,0,0.8))',height:state.isMobileView?'auto':undefined,
                                                            maxHeight:state.isMobileView?'4.5rem':undefined,transform:`scale(${getLogoScale(currentProperty,state.isMobileView,false)})`,
                                                            transformOrigin:'left center'}} loading="lazy"/>
                                                    </div>
                                                    <h2 className="font-black mb-4 sm:mb-6 text-white text-left text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl"
                                                        style={{'--child-index':1,textShadow:'0 4px 20px rgba(0,0,0,0.8)',lineHeight:'0.9',
                                                        margin:'0',marginBottom:window.innerWidth<640?'1rem':'1.5rem',padding:'0'}}>{currentProperty.name}</h2>
                                                </>
                                            ):(
                                                <h2 className={`font-black mb-4 sm:mb-6 text-white text-left ${currentProperty.id===3?'text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl':'text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl'}`}
                                                    style={{'--child-index':1,textShadow:'0 4px 20px rgba(0,0,0,0.8)',lineHeight:'0.9',
                                                    margin:'0',marginBottom:window.innerWidth<640?'1rem':'1.5rem',padding:'0'}}>{currentProperty.name}</h2>
                                            )}

                                            {/* Tagline */}
                                            <div className="mb-6 sm:mb-8 max-w-3xl" style={{'--child-index':2}}>
                                                <p className="text-lg sm:text-xl md:text-2xl lg:text-3xl text-white font-light text-left"
                                                   style={{textShadow:'0 2px 10px rgba(0,0,0,0.8)',lineHeight:'1.4'}}>{currentProperty.tagline}</p>
                                            </div>

                                            {/* Details */}
                                            {(currentProperty.date||currentProperty.location)&&(
                                                <div className="flex flex-wrap gap-3 sm:gap-4 mb-6 sm:mb-8" style={{'--child-index':3}}>
                                                    {currentProperty.date&&(
                                                        <div className="flex items-center gap-2 sm:gap-3 bg-black/50 backdrop-blur-md px-4 sm:px-6 py-2 sm:py-3 rounded-full text-white">
                                                            {Icons.cal}
                                                            <span className="font-medium text-sm sm:text-base">{currentProperty.date}</span>
                                                        </div>
                                                    )}
                                                    {currentProperty.location&&(
                                                        <div className="flex items-center gap-2 sm:gap-3 bg-black/50 backdrop-blur-md px-4 sm:px-6 py-2 sm:py-3 rounded-full text-white">
                                                            {Icons.loc}
                                                            <span className="font-medium text-sm sm:text-base">{currentProperty.location}</span>
                                                        </div>
                                                    )}
                                                </div>
                                            )}

                                            {/* Countdown */}
                                            {state.timeLeft[currentProperty.id]&&(
                                                <div className="flex gap-3 sm:gap-4 mb-6 sm:mb-8" style={{'--child-index':4}}>
                                                    {Object.entries(state.timeLeft[currentProperty.id]).map(([unit,value])=>(
                                                        <div key={unit} className="countdown-unit">
                                                            <div className="text-xl sm:text-2xl font-bold text-white">{value}</div>
                                                            <div className="text-xs uppercase text-white">{unit}</div>
                                                        </div>
                                                    ))}
                                                </div>
                                            )}

                                            {/* CTA Button */}
                                            {currentProperty.url!=='#'&&(
                                                <a href={currentProperty.url} target="_blank" rel="noopener noreferrer" 
                                                   className={`cta-button-custom cta-button ${currentProperty.id===7?'dock619-cta':''}`}
                                                   style={{'--child-index':5,...ctaButtonStyle}}>
                                                    <span>{currentProperty.id===7?"Découvrez notre espace":currentProperty.id===6?"Découvrez nos services":"Découvrez l'événement"}</span>
                                                    {Icons.arr}
                                                </a>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>
                    </div>
                </div>
            );
        }

        // Initialize
        function init() {
            try {
                console.log('Initializing React app...');
                const root = document.getElementById('root');
                if(!root) throw new Error('Root element not found');
                if(!window.React||!window.ReactDOM) throw new Error('React not loaded');
                console.log('React and ReactDOM loaded, rendering app...');
                ReactDOM.createRoot(root).render(<App />);
                console.log('App rendered successfully');
            } catch(e) {
                console.error('Error initializing app:', e);
                document.getElementById('root').innerHTML = `
                    <div style="min-height:100vh;background:#000;color:white;display:flex;align-items:center;justify-content:center;padding:2rem;text-align:center">
                        <div>
                            <img src="images/tonic-logo.png" alt="Groupe Tonic" style="width:clamp(200px,40vw,300px);height:auto;margin-bottom:2rem;" />
                            <h2 style="font-size:1.5rem;margin-bottom:1rem;color:#ef4444">Erreur de chargement</h2>
                            <p style="margin-bottom:2rem;opacity:0.8">Une erreur s'est produite lors du chargement de l'application.</p>
                            <button onclick="window.location.reload()" style="padding:0.75rem 2rem;background:white;color:black;border:none;border-radius:50px;font-weight:bold;cursor:pointer;font-size:1rem">
                                Rafraîchir la page
                            </button>
                        </div>
                    </div>`;
            }
        }

        if(document.readyState==='loading') document.addEventListener('DOMContentLoaded',init);
        else init();
    </script>
</body>
</html>